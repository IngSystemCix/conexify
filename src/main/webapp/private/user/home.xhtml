<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:faces="jakarta.faces"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core"
      xmlns:h="jakarta.faces.html"
      xmlns:pt="jakarta.faces.passthrough"
      xmlns:cc="jakarta.faces.composite"
      xmlns:c="jakarta.tags.core"
      xmlns:fn="jakarta.tags.functions"
      xmlns:p="http://primefaces.org/ui">
<f:view contentType="text/html" locale="#{region.locale}">
  <h:head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <h:outputStylesheet library="webjars" name="primeflex/3.3.1/primeflex.min.css"/>
    <h:outputStylesheet id="theme-css" library="css" name="style.css" />
    <h:outputStylesheet library="css" name="font.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
    <link rel="shortcut icon" href="#{resource['img/favicon.png']}" type="image/png"/>
    <title>conexify :: <h:outputText value="#{msg['title_page_home_user']}"/></title>
  </h:head>
  <h:body styleClass="w-full h-screen">
    <ui:include src="/fragments/menubar.xhtml" />
    <div class="w-full">
      <p:sidebar widgetVar="sidebar">
        <div class="w-full flex justify-content-start align-items-center gap-2 mb-2">
          <i class="bi bi-chat-left-dots" />
          <h:outputText value="#{msg['chat']}" styleClass="text-2xl font-bold" />
        </div>
        <p:tabMenu styleClass="w-full">
          <p:menuitem value="#{msg['chat']}" icon="bi bi-chat-left-dots" url="/u/chat" badge="#{chat.badge}" />
          <p:menuitem value="#{msg['friends']}" icon="bi bi-people-fill" url="/u/friends" />
        </p:tabMenu>
      </p:sidebar>
      <div class="flex flex-column" >
        <div class="w-full flex flex-column justify-content-between align-items-center">
          <div class="w-full flex flex-column justify-content-start items-center gap-1 px-3 py-2 bg-gray-200">
            <h:outputText value="#{chat.username}" styleClass="text-2xl font-bold" />
            <h:outputText value="#{chat.onlineStatus ? msg['online'] : msg['offline']}"
                          styleClass="#{chat.onlineStatus ? 'text-green-500' : 'text-red-500'} font-bold" />
          </div>
          <p:scrollPanel mode="native" styleClass="w-full" style="min-height: calc(100vh - 13rem);" >

          </p:scrollPanel>
        </div>
        <div class="flex gap-4 justify-content-center align-items-center px-3 py-2 bg-gray-200">
          <p:commandButton icon="bi bi-chat-dots-fill" type="button" onclick="PF('sidebar').show()" styleClass="ui-button" />
          <div class="ui-inputgroup w-full">
            <p:inputText placeholder="#{msg['write_message']}" styleClass="w-full"/>
            <p:commandButton icon="bi bi-send" />
          </div>
        </div>
      </div>
    </div>
  </h:body>
</f:view>
</html>
